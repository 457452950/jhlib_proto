syntax = "proto3";

package wlb;

message ServerInfo
{
    string address = 1;
    uint32 port = 2;
}

message Hi{
    string client_id = 1;
}

message Hello{
    ServerInfo master_server = 1;
}

message MessageBody
{
    oneof body {
        Hi hibody = 1;
        Hello hellobody = 2;
    }
}

enum MessageType
{
    ERROR = 0;
    REQUEST = 1;
    RESPONSE = 2;
}

message Request{
    int32 version = 1;
    MessageType type = 2;
    int32 id = 3;
    MessageBody body = 4;
}

message Response{
    int32 version = 1;
    MessageType type = 2;
    string message = 3;
    MessageBody body = 4;
}
